# Market Comparison Tool

–í–µ–±-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä—ã–Ω–∫–æ–≤ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (Polymarket, Manifold, Kalshi).

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Next.js 15+ (App Router)
- React 19
- TypeScript
- Tailwind CSS
- Prisma ORM + PostgreSQL (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ç—á–µ–π –∏ –∏—Å—Ç–æ—Ä–∏–∏)
- TanStack React Query (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run build

# –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
npm start
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000) –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- üìä –õ–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ mispricing
- üîç –ü–æ–∏—Å–∫ —Å–æ–±—ã—Ç–∏–π –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ —Ç–µ–≥–∞–º
- üè∑Ô∏è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- üìà –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π
- üéØ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
- üîó –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º –≤ localStorage

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
market/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ event/[id]/        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ api/               # API routes
‚îú‚îÄ‚îÄ components/            # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ data/                  # –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (JSON)
‚îú‚îÄ‚îÄ types/                 # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
```

## –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages —á–µ—Ä–µ–∑ GitHub Actions.

## –î–∞–Ω–Ω—ã–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã:
- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - —á–µ—Ä–µ–∑ PolyRouter API (—Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç—á–µ–π –≤ PostgreSQL —á–µ—Ä–µ–∑ Prisma
- **–ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - fallback –Ω–∞ `data/events.json` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ API –∫–ª—é—á–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PolyRouter API

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`:
```env
POLYROUTER_API_KEY=your_api_key_here
POLYROUTER_API_URL=https://api.polyrouter.io
```

2. API –∫–ª—é—á –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ Vercel (–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è)
3. –ù–∞ GitHub Pages –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è fallback –Ω–∞ –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–º. [DATABASE_SETUP.md](./DATABASE_SETUP.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

**–ö—Ä–∞—Ç–∫–æ:**
- –õ–æ–∫–∞–ª—å–Ω–æ: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ —Å–æ–∑–¥–∞–π—Ç–µ `.env.local` —Å `DATABASE_URL`
- Vercel: —Å–æ–∑–¥–∞–π—Ç–µ Postgres –±–∞–∑—É –≤ Vercel Dashboard (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç `DATABASE_URL`)
- –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `npx prisma migrate deploy`

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PolyRouter

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PolyRouter API** –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
- Polymarket
- Manifold Markets
- Kalshi

### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥

**PolyRouter –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä:**
- –ï–¥–∏–Ω—ã–π API –≤–º–µ—Å—Ç–æ —Ç—Ä—ë—Ö —Ä–∞–∑–Ω—ã—Ö (Polymarket GraphQL, Manifold REST, Kalshi REST)
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ú–∞—Ç—á–∏–Ω–≥:**
- PolyRouter –Ω–µ –¥–µ–ª–∞–µ—Ç –∫—Ä–æ—Å—Å‚Äë–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –º–∞—Ç—á–∏–Ω–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ/—Ä—ã–Ω–æ–∫ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –æ–¥–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- –ú–∞—Ç—á–∏–Ω–≥ –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ —Ä–µ–∞–ª–∏–∑—É–µ–º —Å–∞–º–∏ —á–µ—Ä–µ–∑ `utils/matching/matcher.ts`:
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –º–∞—Ç—á–∏–Ω–≥ –ø–æ `event_id` –∏–∑ PolyRouter (—Ç–æ—á–Ω—ã–π)
  - Fallback: —Å—Ç—Ä–æ–∫–æ–≤–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ —á–µ—Ä–µ–∑ `string-similarity` (–ø–æ—Ä–æ–≥ 0.5)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
1. PolyRouter ‚Üí `/markets-v2`, `/events`, `/search-v2` ‚Üí —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
2. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí `utils/normalizers/polyrouter-normalizer.ts`
3. –ú–∞—Ç—á–∏–Ω–≥ ‚Üí `utils/matching/matcher.ts`
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚Üí `lib/db/matches.ts`

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º, –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é —Å –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π (–±–µ–∑ PolyRouter), —Å–º. [api-integration-plan.md](./api-integration-plan.md).

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –∫–æ–¥–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:
- –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (GraphQL –¥–ª—è Polymarket, REST –¥–ª—è Manifold/Kalshi)
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ rate limits –∏ –æ—à–∏–±–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ API –æ—Ç–¥–µ–ª—å–Ω–æ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞

1. –ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –∫–ª—é—á –Ω–∞ [polyrouter.io](https://polyrouter.io) (–∑–∞–Ω–∏–º–∞–µ—Ç 30 —Å–µ–∫—É–Ω–¥)

2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
```env
POLYROUTER_API_KEY=pk_your_api_key_here
POLYROUTER_API_URL=https://api.polyrouter.io/functions/v1
```

3. –î–ª—è Vercel: –¥–æ–±–∞–≤—å—Ç–µ `POLYROUTER_API_KEY` –≤ Environment Variables –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞

**–í–∞–∂–Ω–æ:** API –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (API routes), –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç.

